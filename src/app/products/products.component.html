
<input type="text" [(ngModel)]="searchTerm" (ngModelChange)="getProducts()" placeholder="Search by name">
<table class="table"> 
  <thead>
  <tr>
    <th>Name</th> <th>Price</th> <th>Quantity</th> <th>current Price</th> <th>bought Price</th> <th>Current Value</th> <th>Eligible</th> <th>type</th> <th>Date</th> <th>Remove</th> 
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let product of products  | paginate : { itemsPerPage: 10, currentPage: currentPage } ">
    <td>{{product.id}}</td>
    <td>{{product.name}}</td>
    <td>{{product.qty}}</td>
    <td>{{product.currentPrice}}</td>
    <td>{{product.boughtPrice}}</td>
    <td>{{product.currentPrice*product.qty}}</td>
    <td>
      <button [ngClass]="{'btn-danger': !product.eligible, 'btn-success': product.eligible}" 
        (click)="changeEligProduct(product)" class="btn">
  <i [class]="product.eligible?'bi bi-check-circle':'bi bi-file-x'"></i>
</button>     
    </td>
    <td>{{product.type}}</td>
    <td>{{product.date}}</td>    
       
    
    <td>
      <button (click)="deleteProduct(product)" class="btn btn-outline-danger">
        <i class="bi bi-trash"></i>
      </button>
    </td>
  </tr>
  </tbody>
  <tfoot>
    <tr>
      <td colspan="5">Total Value</td>
      <td>{{this.calculatePortfolioValue() | number:'1.2-2'}}</td>
    </tr>
  </tfoot>

</table>
<div class="pagination">
  <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
</div>




